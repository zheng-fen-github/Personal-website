{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Head from 'next/head';\nimport List from './list';\nimport Nav from '../../component/index/book-nav';\nimport Book from './book';\n\nfunction Js(_ref) {\n  var data = _ref.data;\n  useEffect(function () {\n    //响应字体事件\n    setData(data);\n    ev();\n    window.addEventListener('resize', ev);\n    return function () {\n      window.removeEventListener('resize', ev);\n    };\n  }, []);\n  var windowRef = React.createRef(); // 窗口Dom ref 定义\n\n  var MessageRef = React.createRef();\n\n  var _useState = useState(null),\n      BookData = _useState[0],\n      setBookData = _useState[1]; // 数据定义\n\n\n  var _useState2 = useState(null),\n      Data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(null),\n      Message = _useState3[0],\n      setMessage = _useState3[1];\n\n  var openEv = function openEv(id) {\n    // 打开窗口事件\n    var LookList = Data.filter(function (e) {\n      return e._id === id;\n    });\n    setBookData(LookList[0]);\n    windowRef.current.classList.add('open-list');\n    document.body.style.overflow = \"hidden\";\n  };\n\n  var openBook = function openBook(id) {\n    // 打开三级窗口事件\n    MessageRef.current.classList.add('open-book');\n    MessageRef.current.previousElementSibling.style.display = 'flex';\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-3180985772\"\n  }, \"Create Next App\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\",\n    crossorigin: \"anonymous\",\n    className: \"jsx-3180985772\"\n  })), __jsx(Nav, null), __jsx(Book, {\n    message: Message,\n    ref: MessageRef\n  }), __jsx(\"div\", {\n    className: \"jsx-3180985772\" + \" \" + \"row justify-content-center  ctn\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3180985772\" + \" \" + \"col-10 pt-5\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3180985772\" + \" \" + \"row root\"\n  }, Data && Data.map(function (e) {\n    return __jsx(\"div\", {\n      key: e._id,\n      className: \"jsx-3180985772\" + \" \" + \"col-6 col-lg-4 p-4 pr-4\"\n    }, __jsx(\"div\", {\n      onClick: function onClick() {\n        return openEv(e._id);\n      },\n      className: \"jsx-3180985772\" + \" \" + \"row test align-items-center\"\n    }, __jsx(\"div\", {\n      className: \"jsx-3180985772\" + \" \" + \"col-4\"\n    }, __jsx(\"img\", {\n      src: \"../kuai.png\",\n      alt: \"\",\n      className: \"jsx-3180985772\" + \" \" + 'my-4'\n    })), __jsx(\"div\", {\n      className: \"jsx-3180985772\" + \" \" + \"col-8\"\n    }, __jsx(\"p\", {\n      className: \"jsx-3180985772\" + \" \" + 'text-center h2'\n    }, e.BookTitle))));\n  })))), __jsx(List, {\n    ref: windowRef,\n    sendMessage: setMessage,\n    BookData: BookData,\n    open: openBook\n  }), __jsx(_JSXStyle, {\n    id: \"3180985772\"\n  }, [\".ctn.jsx-3180985772{min-height:85vh;background:#f6f9fd;}\", \"p.jsx-3180985772{-webkit-transition:.4s;transition:.4s;}\", \".test.jsx-3180985772{border-radius:16px;box-shadow:0 0 20px #bdbdbd;cursor:pointer;}\", \".root.jsx-3180985772>div.jsx-3180985772:nth-child(odd)>.test.jsx-3180985772{background:linear-gradient(125deg,#8d6bff,#3766ff);color:white;}\", \".root.jsx-3180985772>div.jsx-3180985772:nth-child(even)>.test.jsx-3180985772{background:white;color:black;}\", \".ctn.jsx-3180985772 .test.jsx-3180985772:hover p.jsx-3180985772{-webkit-transform:scale(1.3);-ms-transform:scale(1.3);transform:scale(1.3);}\", \".ctn.jsx-3180985772 .test.jsx-3180985772 img.jsx-3180985772{width:100%;}\"]));\n}\n\nexport default Js;\n\nvar ev = function ev() {\n  if (document.documentElement.clientWidth < 980) {\n    // 响应字体              \n    var list = document.querySelectorAll('.test .h2');\n\n    if (list) {\n      Array.from(list).map(function (e) {\n        e.classList.add('h4');\n      });\n    }\n  } else {\n    var _list = document.querySelectorAll('.test .h4');\n\n    if (_list) {\n      Array.from(_list).map(function (e) {\n        e.classList.remove('h4');\n      });\n    }\n  }\n}; // useEffect(() => {\n//    (async () => {\n//      let req =  await fetch('http://localhost:4040/find/book/0');\n//      let result = await  req.json();\n//      console.log(result);\n//      setData(result);\n//    })()        \n// },[])","map":null,"metadata":{},"sourceType":"module"}